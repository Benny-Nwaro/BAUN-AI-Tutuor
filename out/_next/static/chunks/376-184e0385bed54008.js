"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{28019:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(95155),r=a(12115),n=a(64625),i=a(34333),l=a(51073),o=a(50067);function c(e){let{onTextReceived:t,buttonClassName:a="",size:c="md",variant:d="outline"}=e,{cheetah:m,isInitializing:u,isInitialized:x,isOnline:h,initSpeechRecognition:g,registerTranscriptCallback:p,unregisterTranscriptCallback:y}=(0,o.m)(),[f,b]=(0,r.useState)(!1),[v,w]=(0,r.useState)(""),[j,k]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),[C,S]=(0,r.useState)(""),T=(0,r.useRef)(null),L=e=>{A(!0),e.transcript&&S(t=>t+e.transcript),e.isEndpoint&&(k(!0),setTimeout(()=>k(!1),500),C.trim()&&(t(C.trim()),S("")))};(0,r.useEffect)(()=>(T.current=p(L),()=>{T.current&&(y(T.current),T.current=null)}),[p,y,t]),(0,r.useEffect)(()=>{!h||m||u||g()},[h,m,u,g]);let z=()=>{if(m){try{l.n8.unsubscribe(m)}catch(e){}try{l.n8.subscribe(m),b(!0),A(!0),S(""),w("")}catch(e){console.error("Error starting speech recognition:",e),w("Failed to start speech recognition")}}},F=()=>{if(m){try{l.n8.unsubscribe(m),C.trim()&&(t(C.trim()),S(""))}catch(e){console.error("Error stopping speech recognition:",e)}b(!1),A(!1)}},E={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}[c],q=u||!m&&!h&&!x,P=u?"Initializing speech recognition...":m||h||x?f?"Stop listening":"Start voice input":"Speech recognition requires internet for setup";return(0,s.jsxs)("div",{className:"relative inline-flex items-center z-10",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{if(f)F();else{if(!m){if(!h&&!x){w("Speech recognition requires internet connection for first-time setup. Please connect briefly to the internet and try again.");return}if(h&&!x&&!u){g(),w("Setting up speech recognition. Please try again in a moment.");return}if(u){w("Speech recognition is initializing. Please try again in a moment.");return}w("Speech recognition not available");return}z()}},disabled:q,className:"\n          flex items-center justify-center rounded-full \n          transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2\n          disabled:opacity-50 disabled:cursor-not-allowed\n          ".concat({sm:"h-8 w-8 p-1",md:"h-10 w-10 p-2",lg:"h-12 w-12 p-2"}[c],"\n          ").concat((()=>{if(f)return"text-white bg-red-500 hover:bg-red-600 border border-red-500 shadow-md";switch(d){case"primary":return"text-white bg-primary hover:bg-primary-light border border-primary shadow-sm";case"outline":default:return"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 shadow-sm";case"ghost":return"text-gray-700 dark:text-gray-300 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 border-transparent";case"minimal":return"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 bg-transparent border-transparent"}})(),"\n          ").concat(j?"animate-pulse":"","\n          ").concat(u?"animate-pulse bg-blue-400 dark:bg-blue-600 text-white border-blue-400":"","\n          ").concat(a,"\n        "),title:P,children:[f?(0,s.jsx)(n.A,{className:E}):(0,s.jsx)(i.A,{className:E}),(0,s.jsx)("span",{className:"sr-only",children:P})]}),f&&(0,s.jsxs)("div",{className:"absolute -top-1 -right-1 h-3 w-3",children:[(0,s.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),N&&(0,s.jsx)("div",{className:"absolute bottom-full mb-1 left-1/2 transform -translate-x-1/2 z-20",children:(0,s.jsxs)("div",{className:"flex space-x-1 px-1.5 py-1 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50 rounded-md shadow-sm",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 dark:bg-green-400 rounded-full animate-[pulse_0.7s_ease-in-out_infinite]"}),(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 dark:bg-green-400 rounded-full animate-[pulse_0.7s_ease-in-out_0.2s_infinite]"}),(0,s.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 dark:bg-green-400 rounded-full animate-[pulse_0.7s_ease-in-out_0.4s_infinite]"})]})}),v&&(0,s.jsx)("div",{className:"absolute bottom-full mb-2 right-0 z-20 text-xs bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-2 rounded-md whitespace-nowrap shadow-sm max-w-[250px] sm:max-w-none truncate sm:whitespace-normal",children:v}),u&&!v&&(0,s.jsx)("div",{className:"absolute bottom-full mb-2 right-0 z-20 text-xs bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 p-2 rounded-md whitespace-nowrap shadow-sm",children:"Initializing speech recognition..."}),f&&C&&(0,s.jsx)("div",{className:"absolute bottom-full mb-10 right-0 z-20 text-xs bg-gray-50 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400 p-2 rounded-md whitespace-normal shadow-sm max-w-[250px] sm:max-w-[400px]",children:C})]})}},42331:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(95155);function r(e){let{children:t,variant:a="primary",size:r="md",fullWidth:n=!1,isLoading:i=!1,icon:l,onClick:o,type:c="button",disabled:d=!1,className:m=""}=e,u="".concat("flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({sm:"text-sm h-8 px-3 py-1 space-x-1.5",md:"text-md h-10 px-4 py-2 space-x-2",lg:"text-lg h-12 px-6 py-2.5 space-x-2.5 font-semibold"}[r]," ").concat({primary:"bg-[#FFC72C] text-black hover:bg-[#FFBA00] dark:bg-[#FFC72C] dark:text-black dark:hover:bg-[#FFBA00]",secondary:"bg-black text-[#FFC72C] hover:bg-neutral-800 dark:bg-black dark:text-[#FFC72C] dark:hover:bg-neutral-800",outline:"border-2 border-[#FFC72C] text-black hover:bg-[#FFC72C]/10 dark:border-[#FFC72C] dark:text-[#FFC72C] dark:hover:bg-[#FFC72C]/10",ghost:"text-black hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800",link:"p-0 h-auto text-black underline-offset-4 hover:underline dark:text-[#FFC72C]"}[a]," ").concat(n?"w-full":""," ").concat(m);return(0,s.jsxs)("button",{type:c,className:u,onClick:o,disabled:d||i,children:[i?(0,s.jsx)("div",{className:"w-5 h-5 rounded-full animate-spin border-2 border-solid border-current border-t-transparent mr-2"}):l?(0,s.jsx)("span",{className:"mr-2",children:l}):null,t]})}a(12115)},62701:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(95155),r=a(12115),n=a(48987),i=a(10184),l=a(74500),o=a(28019);let c=(0,r.forwardRef)((e,t)=>{let{id:a,label:c,type:d="text",placeholder:m,value:u,onChange:x,onBlur:h,error:g,required:p=!1,disabled:y=!1,className:f="",icon:b,helperText:v,enableSpeech:w=!1}=e,[j,k]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e;return N&&(e=setTimeout(()=>{A(!1)},1e3)),()=>clearTimeout(e)},[N]);let C="password"===d,S=!u||0===u.length,T=!S||N;return(0,s.jsxs)("div",{className:"w-full",children:[c&&(0,s.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[c,p&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[b&&(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:b}),(0,s.jsx)("input",{ref:t,id:a,type:C?j?"text":"password":d,value:u,onChange:x,onBlur:h,placeholder:m,disabled:y,required:p,className:"w-full rounded-md border border-input px-4 py-2 text-sm transition-colors \n              focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\n              disabled:opacity-50 disabled:cursor-not-allowed \n              ".concat(b?"pl-10":""," \n              ").concat(C?"pr-10":""," \n              ").concat(w&&!C?"pr-12":"","\n              ").concat(g?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-700"," \n              ").concat(f)}),C&&(0,s.jsxs)("button",{type:"button",onClick:()=>{k(!j)},className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700 focus:outline-none",tabIndex:-1,children:[j?(0,s.jsx)(n.A,{className:"h-5 w-5","aria-hidden":"true"}):(0,s.jsx)(i.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,s.jsx)("span",{className:"sr-only",children:j?"Hide password":"Show password"})]}),w&&!C&&(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2.5",children:T?(0,s.jsxs)("button",{type:"button",onClick:()=>{x&&(x({target:{value:"",id:a,name:a}}),A(!0))},className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 focus:outline-none transition-opacity duration-200 ".concat(N&&S?"opacity-70":"opacity-100"),title:"Clear input",children:[(0,s.jsx)(l.A,{className:"h-5 w-5","aria-hidden":"true"}),(0,s.jsx)("span",{className:"sr-only",children:"Clear input"})]}):(0,s.jsx)(o.A,{onTextReceived:e=>{x&&"string"==typeof u&&x({target:{value:u+(u.length>0&&!u.endsWith(" ")?" ":"")+e,id:a,name:a}})},variant:"minimal",size:"sm"})})]}),g&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-500",children:g}),v&&(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:v})]})});c.displayName="Input";let d=c},81376:(e,t,a)=>{a.d(t,{A:()=>ey});var s=a(95155),r=a(12115),n=a(6874),i=a.n(n),l=a(66766),o=a(23475),c=a(42331),d=a(74500),m=a(69598),u=a(6678),x=a(92975),h=a(94648),g=a(15939),p=a(98212),y=a(55628);function f(e){let{isOpen:t,onClose:a,onConfirm:n,isLoading:i}=e,o=(0,r.useRef)(null);return(0,s.jsx)(g.e.Root,{show:t,as:r.Fragment,children:(0,s.jsxs)(p.lG,{as:"div",className:"relative z-50",initialFocus:o,onClose:a,children:[(0,s.jsx)(g.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(g.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(p.lG.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-zinc-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-center",children:[(0,s.jsx)(l.default,{src:"/ai/baun_logo.png",alt:"Baun Robotics Logo",width:48,height:48,className:"mb-3"}),(0,s.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-yellow-100 dark:bg-yellow-900",children:(0,s.jsx)(y.A,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400","aria-hidden":"true"})})]}),(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)(p.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:"Confirm Logout"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Are you sure you want to log out? Your conversation history will still be saved and available when you log back in."})})]})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,s.jsx)(c.A,{variant:"primary",isLoading:i,onClick:n,children:"Log Out"}),(0,s.jsx)(c.A,{variant:"outline",onClick:a,disabled:i,children:"Cancel"})]})]})})})})]})})}var b=a(35695),v=a(39605);function w(e){let{isOpen:t,onClose:a,onConfirm:n,isLoading:i,isGuest:l=!1}=e;return(0,s.jsx)(g.e,{appear:!0,show:t,as:r.Fragment,children:(0,s.jsxs)(p.lG,{as:"div",className:"relative z-50",onClose:a,children:[(0,s.jsx)(g.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 dark:bg-black dark:bg-opacity-50"})}),(0,s.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,s.jsx)(g.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(p.lG.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-xl bg-white dark:bg-zinc-900 p-6 text-left align-middle shadow-xl transition-all",children:[(0,s.jsx)(p.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 dark:text-white",children:l?"Exit Guest Mode":"Confirm Logout"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:l?"Are you sure you want to exit guest mode? You will be returned to the home screen and can choose which mode to use next time.":"Are you sure you want to log out? You will need to sign in again to access your account."})}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-3",children:[(0,s.jsx)(c.A,{variant:"outline",onClick:a,disabled:i,children:"Cancel"}),(0,s.jsx)(c.A,{variant:"primary",onClick:n,disabled:i,children:i?"Processing...":l?"Exit Guest Mode":"Log Out"})]})]})})})})]})})}function j(e){let{variant:t="primary",size:a="sm",className:n}=e;(0,b.useRouter)();let{user:i,logout:l}=(0,o.A)(),[d,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),h=async()=>{x(!0);try{let e=(null==i?void 0:i.role)||"student";(0,v.Yy)(e),(0,v.mi)(),localStorage.setItem("just-logged-out","true"),window.location.replace("/ai/")}catch(e){console.error("Error logging out from guest mode:",e),x(!1),m(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{variant:t,size:a,onClick:()=>{m(!0)},disabled:u,className:n,children:"Exit Guest Mode"}),(0,s.jsx)(w,{isOpen:d,onClose:()=>{m(!1)},onConfirm:h,isLoading:u,isGuest:!0})]})}var k=a(29675),N=a(70957),A=a(79979);async function C(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;try{let s="\nYou are an educational assistant creating a quiz to test understanding of a learning topic.\nBased on the following educational content, generate ".concat(a," multiple-choice quiz questions about ").concat(t,".\n\nFor each question:\n1. Create a clear, concise question that tests understanding of key concepts\n2. Provide exactly 4 answer options that are distinct and plausible\n3. Indicate which option is correct (0-indexed)\n4. Include a brief explanation of why the answer is correct\n\nContent: ").concat(e.substring(0,2500),'\n\nFormat your response as a valid JSON array with the following structure:\n[\n  {\n    "question": "Question text here?",\n    "options": ["Option A", "Option B", "Option C", "Option D"],\n    "correctAnswerIndex": 0,\n    "explanation": "Explanation of why Option A is correct"\n  }\n]\n'),r=await A.B.generateResponse(s,"teacher",[],null);try{let e=r.match(RegExp("\\[\\s*\\{.*\\}\\s*\\]","s"));if(e){let t=e[0],s=JSON.parse(t).filter(e=>e.question&&Array.isArray(e.options)&&4===e.options.length&&"number"==typeof e.correctAnswerIndex&&e.correctAnswerIndex>=0&&e.correctAnswerIndex<=3&&e.explanation);if(s.length>0)return s.slice(0,a)}return console.error("Failed to parse quiz questions from AI response:",r),S(t,a)}catch(e){return console.error("Error parsing AI-generated quiz questions:",e),S(t,a)}}catch(e){return console.error("Error generating quiz questions:",e),S(t,a)}}function S(e,t){let a={mathematics:[{question:"What is the value of π (pi) to two decimal places?",options:["3.14","3.16","3.12","3.18"],correctAnswerIndex:0,explanation:"The value of π is approximately 3.14159, which rounds to 3.14 when expressed with two decimal places."},{question:"What is the formula for the area of a circle?",options:["πr\xb2","2πr","πr\xb3","2πr\xb2"],correctAnswerIndex:0,explanation:"The area of a circle is calculated using the formula πr\xb2, where r is the radius of the circle."},{question:"What is the result of 7 \xd7 8?",options:["54","56","48","64"],correctAnswerIndex:1,explanation:"7 \xd7 8 = 56. This is a basic multiplication fact."}],programming:[{question:"What does the term 'API' stand for in programming?",options:["Application Programming Interface","Automated Programming Integration","Application Process Integration","Automated Program Interface"],correctAnswerIndex:0,explanation:"API stands for Application Programming Interface, which allows different software applications to communicate with each other."},{question:"In JavaScript, which keyword is used to declare a variable that cannot be reassigned?",options:["var","let","const","static"],correctAnswerIndex:2,explanation:"The 'const' keyword is used to declare variables that cannot be reassigned after initialization in JavaScript."},{question:"What does CSS stand for in web development?",options:["Computer Style Sheets","Creative Style System","Cascading Style Sheets","Colorful Style Sheets"],correctAnswerIndex:2,explanation:"CSS stands for Cascading Style Sheets, which is used to control the presentation and layout of web pages."}],chemistry:[{question:"What is the chemical symbol for gold?",options:["Go","Gl","Au","Ag"],correctAnswerIndex:2,explanation:"The chemical symbol for gold is Au, which comes from the Latin word 'aurum'."},{question:"What is the most abundant gas in Earth's atmosphere?",options:["Oxygen","Carbon Dioxide","Nitrogen","Hydrogen"],correctAnswerIndex:2,explanation:"Nitrogen makes up about 78% of Earth's atmosphere, making it the most abundant gas."},{question:"What is the pH of pure water at room temperature?",options:["0","7","14","1"],correctAnswerIndex:1,explanation:"Pure water has a pH of 7, which is considered neutral (neither acidic nor basic)."}],physics:[{question:"What is Newton's Second Law of Motion?",options:["An object at rest stays at rest unless acted upon by a force","Force equals mass times acceleration","For every action, there is an equal and opposite reaction","Energy cannot be created or destroyed"],correctAnswerIndex:1,explanation:"Newton's Second Law states that force (F) equals mass (m) times acceleration (a), or F = ma."},{question:"What is the SI unit of electric current?",options:["Volt","Watt","Ampere","Ohm"],correctAnswerIndex:2,explanation:"The ampere (A) is the SI unit of electric current."},{question:"What type of wave is sound?",options:["Transverse wave","Longitudinal wave","Electromagnetic wave","Gravity wave"],correctAnswerIndex:1,explanation:"Sound is a longitudinal wave, meaning the particles of the medium vibrate parallel to the direction of wave propagation."}],"computer science":[{question:"What does CPU stand for?",options:["Central Processing Unit","Computer Processing Unit","Central Program Unit","Central Processor Utility"],correctAnswerIndex:0,explanation:"CPU stands for Central Processing Unit, which is the primary component of a computer that performs most of the processing."},{question:"Which of these is not a programming language?",options:["Java","Python","HTML","Microsoft"],correctAnswerIndex:3,explanation:"Microsoft is a company, not a programming language. Java, Python, and HTML are all programming or markup languages."},{question:"What does 'HTTP' stand for?",options:["HyperText Transfer Protocol","High Tech Transfer Protocol","Home Tool Transfer Protocol","HyperText Technology Program"],correctAnswerIndex:0,explanation:"HTTP stands for HyperText Transfer Protocol, which is the foundation of data communication on the World Wide Web."}],"general knowledge":[{question:"What is the main purpose of a variable in programming?",options:["To store data","To create functions","To format text","To connect to the internet"],correctAnswerIndex:0,explanation:"Variables are used to store data values that can be used and manipulated throughout a program."},{question:"Which of these is an example of a renewable energy source?",options:["Coal","Natural gas","Solar power","Petroleum"],correctAnswerIndex:2,explanation:"Solar power is a renewable energy source as it comes from the sun, which is naturally replenished. Coal, natural gas, and petroleum are non-renewable fossil fuels."},{question:"What is the process by which plants make their own food called?",options:["Respiration","Photosynthesis","Digestion","Fermentation"],correctAnswerIndex:1,explanation:"Photosynthesis is the process by which green plants and some other organisms use sunlight to synthesize foods with carbon dioxide and water."}]},s=e.toLowerCase();if(a[s])return a[s].slice(0,t);for(let[e,r]of Object.entries(a))if(s.includes(e)||e.includes(s))return r.slice(0,t);return a["general knowledge"].slice(0,t)}var T=a(6865),L=a(52589);function z(e){let{topic:t,questions:a,onComplete:n}=e,[i,l]=(0,r.useState)(0),[o,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(0),[h,g]=(0,r.useState)(!1),p=a[i],y=e=>{d||(c(e),m(!0),e===p.correctAnswerIndex&&x(e=>e+1))};return(0,s.jsxs)("div",{className:"mt-3 sm:mt-4 mb-2 bg-primary/10 dark:bg-primary/20 rounded-lg border border-primary/20 dark:border-primary/30 overflow-hidden w-full max-w-full",children:[(0,s.jsxs)("div",{className:"px-3 py-2 bg-primary/20 dark:bg-primary/30 flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:h?"Quiz Results":"Quick Quiz: ".concat(t)}),(0,s.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 ml-2 whitespace-nowrap",children:!h&&"Question ".concat(i+1,"/").concat(a.length)})]}),(0,s.jsx)("div",{className:"p-3 max-h-[60vh] overflow-y-auto",children:h?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-lg sm:text-xl font-bold mb-2 text-primary dark:text-primary",children:[u," / ",a.length]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 mb-3",children:(()=>{let e=u/a.length*100;return 100===e?"Perfect! You've mastered this concept!":e>=80?"Great job! You have a strong understanding.":e>=60?"Good work! Keep practicing to improve.":"Keep learning! Review the concept and try again."})()}),(0,s.jsx)("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-primary dark:bg-primary",style:{width:"".concat(u/a.length*100,"%")}})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-800 dark:text-gray-200 mb-2 break-words",children:p.question}),(0,s.jsx)("div",{className:"space-y-2 mb-3",children:p.options.map((e,t)=>(0,s.jsx)("button",{onClick:()=>y(t),className:"w-full text-left px-2 sm:px-3 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm transition duration-150 border ".concat(o===t?d?t===p.correctAnswerIndex?"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700":"bg-red-100 dark:bg-red-900/30 border-red-300 dark:border-red-700":"bg-primary/20 dark:bg-primary/30 border-primary/30 dark:border-primary/40":d&&t===p.correctAnswerIndex?"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700":"bg-white dark:bg-zinc-800 border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-zinc-700/50"),disabled:d,children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"flex-1 break-words",children:e}),d&&o===t&&(t===p.correctAnswerIndex?(0,s.jsx)(T.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0 ml-2"}):(0,s.jsx)(L.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500 flex-shrink-0 ml-2"})),d&&o!==t&&t===p.correctAnswerIndex&&(0,s.jsx)(T.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 flex-shrink-0 ml-2"})]})},t))}),d&&(0,s.jsxs)("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-zinc-800 rounded-md text-xs sm:text-sm text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:o===p.correctAnswerIndex?(0,s.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"Correct!"}):(0,s.jsx)("span",{className:"text-red-600 dark:text-red-400",children:"Not quite right"})}),(0,s.jsx)("p",{className:"break-words",children:p.explanation})]}),d&&(0,s.jsx)("button",{onClick:()=>{i<a.length-1?(l(e=>e+1),c(null),m(!1)):(g(!0),n&&n(u,a.length))},className:"w-full px-3 py-2 bg-primary hover:bg-primary-dark text-black rounded-md text-xs sm:text-sm font-medium transition-colors",children:i<a.length-1?"Next Question":"See Results"})]})})]})}function F(){try{let e=localStorage.getItem("baun-quiz-results");if(e)return JSON.parse(e)}catch(e){console.error("Error retrieving quiz results:",e)}return[]}function E(e){let t=F().filter(t=>t.topic===e);if(0===t.length)return null;let a=t.reduce((e,t)=>e+t.score/t.total,0)/t.length,s=new Date(Math.max(...t.map(e=>new Date(e.timestamp)).map(e=>e.getTime()))).toISOString();return{topic:e,quizzesTaken:t.length,averageScore:a,lastQuizDate:s}}function q(e){let{isOpen:t,onClose:a,title:n,children:i,size:l="md"}=e,o=(0,r.useRef)(null);return((0,r.useEffect)(()=>{function e(e){"Escape"===e.key&&a()}return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="auto"}},[t,a]),t)?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 animate-fade-in p-4",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,s.jsxs)("div",{ref:o,className:"relative bg-white dark:bg-zinc-900 rounded-lg shadow-xl w-full ".concat({sm:"max-w-sm",md:"max-w-md sm:max-w-2xl",lg:"max-w-md sm:max-w-2xl md:max-w-4xl",xl:"max-w-md sm:max-w-2xl md:max-w-4xl lg:max-w-6xl",full:"max-w-[95%] h-[95%]"}[l]," flex flex-col max-h-[90vh]"),children:[n&&(0,s.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 px-4 sm:px-6 py-3 sm:py-4 bg-white dark:bg-zinc-900 z-10 flex-shrink-0",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 dark:text-white truncate pr-2",children:n}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none flex-shrink-0","aria-label":"Close",children:(0,s.jsx)(d.A,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:i})]})}):null}function P(e){let{isOpen:t,onClose:a}=e,{currentConversation:n}=(0,N.Y)(),[i,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(null),[g,p]=(0,r.useState)({totalQuizzesTaken:0,uniqueTopics:0,bestTopic:null,worstTopic:null}),[y,f]=(0,r.useState)([]),[b,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){m(!0),x(null);try{let e=function(){let e=F();if(0===e.length)return{totalQuizzesTaken:0,uniqueTopics:0,bestTopic:null,worstTopic:null};let t=[...new Set(e.map(e=>e.topic))],a=t.map(e=>{let t=E(e);return t?{topic:e,score:t.averageScore}:null}).filter(Boolean);return a.sort((e,t)=>t.score-e.score),{totalQuizzesTaken:e.length,uniqueTopics:t.length,bestTopic:a.length>0?a[0].topic:null,worstTopic:a.length>0?a[a.length-1].topic:null}}();if(p(e),e.uniqueTopics>0){let e=F(),t=[...new Set(e.map(e=>e.topic))].map(e=>E(e)).filter(Boolean);t.sort((e,t)=>new Date(t.lastQuizDate).getTime()-new Date(e.lastQuizDate).getTime()),f(t)}n?w():(x("No active conversation found. Start a chat to generate a quiz."),m(!1))}catch(e){console.error("Failed to load quiz data:",e),x("Failed to generate quiz. Please try again later."),m(!1)}}},[t,n]);let w=async()=>{if(!n)return;let e=n.messages.slice(-5).map(e=>e.content).join("\n\n"),t=function(e){let t=e.match(/about\s+([^.,!?]+)|topic\s+of\s+([^.,!?]+)|discussing\s+([^.,!?]+)/i);if(t){let e=t[1]||t[2]||t[3];if(e)return[e.trim()]}let a=e.match(/(?:key\s+concept|main\s+idea|focus\s+on)\s+([^.,!?]+)/gi);if(a)return a.map(e=>e.replace(/(?:key\s+concept|main\s+idea|focus\s+on)\s+/i,"").trim());let s={},r=e.toLowerCase();["mathematics","algebra","calculus","statistics","geometry","trigonometry","arithmetic","linear algebra","differential equations","probability","number theory","mathematical analysis","physics","chemistry","biology","astronomy","geology","environmental science","organic chemistry","inorganic chemistry","quantum mechanics","thermodynamics","molecular biology","cellular biology","genetics","evolution","ecology","computer science","programming","algorithms","data structures","artificial intelligence","machine learning","deep learning","neural networks","databases","web development","software engineering","operating systems","computer networks","cybersecurity","python","javascript","java","c++","html","css","sql","react","node.js","history","geography","literature","philosophy","psychology","sociology","political science","economics","anthropology","linguistics","religious studies","world history","european history","american history","asian history","grammar","writing","composition","rhetoric","language arts","english language","spanish","french","german","chinese","japanese","latin","creative writing","art","music","theater","film studies","photography","design","architecture","visual arts","performing arts","art history","music theory","digital media"].forEach(e=>{let t=RegExp("\\b".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"\\b"),"gi"),a=r.match(t);a&&(s[e]=a.length)});let n=Object.entries(s).sort((e,t)=>t[1]-e[1]).map(e=>e[0]);return n.length?n:["Recent Learning"]}(e)[0]||"Recent Learning";c(t);try{let a=await C(e,t,3);l(a),m(!1)}catch(e){console.error("Failed to generate quiz questions:",e),x("Failed to generate quiz questions. Please try again later."),m(!1)}};return(0,s.jsx)(q,{isOpen:t,onClose:a,title:"Learning Quiz",size:"md",children:(0,s.jsxs)("div",{className:"p-3 sm:p-4 max-h-[80vh] overflow-y-auto",children:[0===g.totalQuizzesTaken?(0,s.jsxs)("div",{className:"mb-3 sm:mb-4 bg-primary/10 dark:bg-primary/20 rounded-lg p-3 text-center border border-primary/20 dark:border-primary/30",children:[(0,s.jsx)(h.A,{className:"h-6 sm:h-8 w-6 sm:w-8 mx-auto text-primary dark:text-primary mb-2"}),(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"No Quiz Activity Yet"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"This will be your first quiz!"})]}):(0,s.jsxs)("div",{className:"mb-3 sm:mb-4 bg-primary/10 dark:bg-primary/20 rounded-lg p-3 border border-primary/20 dark:border-primary/30",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-1.5",children:[(0,s.jsx)(k.A,{className:"h-5 w-5 text-primary flex-shrink-0"}),"Learning Progress"]}),(0,s.jsx)("button",{onClick:()=>v(!b),className:"text-xs text-primary hover:text-primary-dark hover:underline",children:b?"Hide Details":"Show Topics"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mb-2",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-zinc-900/50 rounded-md p-2 text-center",children:[(0,s.jsx)("div",{className:"text-lg sm:text-xl font-bold text-primary dark:text-primary",children:g.totalQuizzesTaken}),(0,s.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Quizzes Completed"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-zinc-900/50 rounded-md p-2 text-center",children:[(0,s.jsx)("div",{className:"text-lg sm:text-xl font-bold text-primary dark:text-primary",children:g.uniqueTopics}),(0,s.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Topics Explored"})]})]}),b&&y.length>0&&(0,s.jsxs)("div",{className:"mt-3 border-t border-primary/20 dark:border-primary/30 pt-3",children:[(0,s.jsx)("h5",{className:"text-xs font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Recent Topics"}),(0,s.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto pr-2",children:y.slice(0,3).map(e=>(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-gray-800 dark:text-gray-200 truncate max-w-[70%]",children:e.topic}),(0,s.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[Math.round(100*e.averageScore),"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"bg-primary dark:bg-primary h-1.5 rounded-full",style:{width:"".concat(Math.round(100*e.averageScore),"%")}})})]},e.topic))})]})]}),d?(0,s.jsx)("div",{className:"flex items-center justify-center py-8 sm:py-10",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-t-2 border-b-2 border-primary"})}):u?(0,s.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,s.jsx)("div",{className:"text-red-500 dark:text-red-400 text-sm mb-4",children:u}),(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 bg-primary hover:bg-primary-dark text-black text-sm rounded-md shadow-sm",children:"Close"})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,s.jsxs)("h4",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white",children:[o," Quiz"]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Test your knowledge based on your recent conversation"})]}),i.length>0?(0,s.jsx)(z,{questions:i,topic:o}):(0,s.jsx)("div",{className:"text-center py-6 sm:py-8",children:(0,s.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No quiz questions generated."})})]})]})})}var I=a(67248),G=a(5500);function R(e){let{userRole:t,onOpenLessonPlanner:a,onOpenQuiz:n,onOpenLibrary:i}=e,[l,o]=(0,r.useState)(!1),c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"relative",ref:c,children:[(0,s.jsx)("button",{onClick:()=>{o(!l)},className:"flex items-center justify-center h-10 w-10 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors","aria-expanded":l,children:(0,s.jsx)(u.A,{className:"h-6 w-6"})}),l&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 z-50",children:[(0,s.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"teacher"===t?"Teaching Assistant":"Student Tutor"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"teacher"===t?"Teacher tools":"Student tools"})]}),(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("button",{onClick:()=>{i&&(i(),o(!1))},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)(I.A,{className:"h-4 w-4 mr-3 text-gray-500 dark:text-gray-400"}),"Document Library"]}),"teacher"===t&&(0,s.jsxs)("button",{onClick:()=>{a&&(a(),o(!1))},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-3 text-gray-500 dark:text-gray-400"}),"Lesson Plan Generator"]}),"student"===t&&(0,s.jsxs)("button",{onClick:()=>{n&&(n(),o(!1))},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:[(0,s.jsx)(G.A,{className:"h-4 w-4 mr-3 text-gray-500 dark:text-gray-400"}),"Practice Quizzes"]})]})]})]})}var D=a(5279),M=a(82771);function O(e){let{formData:t,handleInputChange:a,handleSubmit:r,isGenerating:n}=e;return(0,s.jsxs)("form",{onSubmit:r,className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center",children:[(0,s.jsx)(I.A,{className:"h-4 w-4 mr-1 text-primary flex-shrink-0"}),"Lesson Topic or Title ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"topic",name:"topic",value:t.topic,onChange:a,required:!0,placeholder:"e.g., Photosynthesis, Linear Equations, World War II",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-800 dark:text-white text-sm"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"gradeLevel",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-1 text-primary flex-shrink-0"}),"Grade Level ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("select",{id:"gradeLevel",name:"gradeLevel",value:t.gradeLevel,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-800 dark:text-white text-sm",children:[{value:"",label:"Select grade level"},{value:"pre-k",label:"Pre-K"},{value:"k",label:"Kindergarten"},{value:"1",label:"1st Grade"},{value:"2",label:"2nd Grade"},{value:"3",label:"3rd Grade"},{value:"4",label:"4th Grade"},{value:"5",label:"5th Grade"},{value:"6",label:"6th Grade"},{value:"7",label:"7th Grade"},{value:"8",label:"8th Grade"},{value:"9",label:"9th Grade"},{value:"10",label:"10th Grade"},{value:"11",label:"11th Grade"},{value:"12",label:"12th Grade"},{value:"college",label:"College/University"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center",children:[(0,s.jsx)(M.A,{className:"h-4 w-4 mr-1 text-primary flex-shrink-0"}),"Lesson Duration ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("select",{id:"duration",name:"duration",value:t.duration,onChange:a,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-800 dark:text-white text-sm",children:[{value:"30",label:"30 minutes"},{value:"45",label:"45 minutes"},{value:"60",label:"60 minutes"},{value:"90",label:"90 minutes"},{value:"120",label:"2 hours"},{value:"multiple",label:"Multiple days"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"standards",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1 text-primary flex-shrink-0"}),"Learning Standards (optional)"]}),(0,s.jsx)("input",{type:"text",id:"standards",name:"standards",value:t.standards,onChange:a,placeholder:"e.g., CCSS.ELA-LITERACY.RL.7.1, NGSS.MS-PS1-1",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-800 dark:text-white text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"additionalRequirements",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Additional Requirements or Notes (optional)"}),(0,s.jsx)("textarea",{id:"additionalRequirements",name:"additionalRequirements",value:t.additionalRequirements,onChange:a,rows:4,placeholder:"Include any specific activities, differentiation, or assessment types you'd like in your lesson plan",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-800 dark:text-white text-sm"})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"submit",disabled:n||!t.topic||!t.gradeLevel,className:"flex items-center justify-center w-full sm:w-auto px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary ".concat(!n&&t.topic&&t.gradeLevel?"hover:bg-primary-dark":"opacity-70 cursor-not-allowed"),children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating Lesson Plan..."]}):"Generate Lesson Plan"})})]})}var H=a(14615),W=a(61316),B=a(20631);function U(e){let{lessonPlan:t}=e;return(0,s.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 px-4 py-3 sm:px-6 sm:py-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[t.subject," | ",t.gradeLevel]}),(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white truncate",children:t.title})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:[(0,s.jsx)(M.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),(0,s.jsx)("span",{children:t.duration})]})]})}),(0,s.jsxs)("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 max-h-[400px] sm:max-h-[600px] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(T.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Learning Objectives"]}),(0,s.jsx)("ul",{className:"list-disc list-outside ml-4 space-y-1 sm:space-y-2 text-gray-600 dark:text-gray-300",children:t.objectives.map((e,t)=>(0,s.jsx)("li",{className:"text-xs sm:text-sm",children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Standards Alignment"]}),(0,s.jsx)("ul",{className:"list-disc list-outside ml-4 space-y-1 sm:space-y-2 text-gray-600 dark:text-gray-300",children:t.standards.map((e,t)=>(0,s.jsx)("li",{className:"text-xs sm:text-sm",children:e},t))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(H.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Materials and Resources"]}),(0,s.jsx)("ul",{className:"list-disc list-outside ml-4 grid grid-cols-1 sm:grid-cols-2 gap-1 sm:gap-2 text-gray-600 dark:text-gray-300",children:t.materials.map((e,t)=>(0,s.jsx)("li",{className:"text-xs sm:text-sm",children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(W.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Lesson Activities"]}),(0,s.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-xs sm:text-sm mb-1 sm:mb-2",children:"Introduction / Warm-up"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:t.activities.introduction})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-xs sm:text-sm mb-1 sm:mb-2",children:"Main Activities"}),(0,s.jsx)("div",{className:"space-y-2 sm:space-y-3",children:t.activities.mainActivities.map((e,t)=>(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:[(0,s.jsxs)("span",{className:"font-medium text-primary",children:[t+1,"."]})," ",e]})},t))})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-xs sm:text-sm mb-1 sm:mb-2",children:"Conclusion / Wrap-up"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:t.activities.conclusion})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(B.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Assessment"]}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:t.assessment})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(D.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Differentiation"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-xs sm:text-sm mb-1 sm:mb-2",children:"For Struggling Students"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:t.differentiation.remediation})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white text-xs sm:text-sm mb-1 sm:mb-2",children:"For Advanced Students"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:t.differentiation.enrichment})]})]})]}),t.homework&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center mb-2 sm:mb-3",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),"Homework / Extension"]}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 sm:p-4 rounded-md",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:t.homework})})]})]})]})}let Q={"pre-k":"Pre-Kindergarten",k:"Kindergarten",1:"1st Grade",2:"2nd Grade",3:"3rd Grade",4:"4th Grade",5:"5th Grade",6:"6th Grade",7:"7th Grade",8:"8th Grade",9:"9th Grade",10:"10th Grade",11:"11th Grade",12:"12th Grade",college:"College/University Level"},_={30:"30 minutes",45:"45 minutes",60:"60 minutes (1 hour)",90:"90 minutes (1.5 hours)",120:"2 hours",multiple:"Multiple class periods"};async function Y(e){try{let t=function(e){let t=e.toLowerCase();return t.includes("math")||t.includes("algebra")||t.includes("geometry")||t.includes("calculus")||t.includes("equation")?"Mathematics":t.includes("science")||t.includes("biology")||t.includes("chemistry")||t.includes("physics")||t.includes("atom")||t.includes("cell")||t.includes("photosynthesis")?"Science":t.includes("history")||t.includes("world war")||t.includes("civil war")||t.includes("civilization")||t.includes("revolution")||t.includes("ancient")?"History":t.includes("english")||t.includes("literature")||t.includes("writing")||t.includes("grammar")||t.includes("essay")||t.includes("novel")||t.includes("poetry")?"English Language Arts":t.includes("art")||t.includes("music")||t.includes("theater")||t.includes("visual")||t.includes("painting")||t.includes("drawing")?"Fine Arts":t.includes("physical")||t.includes("health")||t.includes("fitness")||t.includes("sports")?"Physical Education & Health":t.includes("computer")||t.includes("programming")||t.includes("coding")||t.includes("technology")?"Computer Science & Technology":"General Education"}(e.topic),a=V(e,t),s=await A.B.generateResponse(a,"teacher",[],null),r=$(s,e,t);if(!function(e){let t=e.activities.mainActivities.reduce((e,t)=>e+t.length,0),a=e.activities.introduction.length>100,s=e.activities.conclusion.length>80,r=e.assessment.length>100;return a&&t>250&&(s||r)}(r)){console.log("Initial lesson plan wasn't detailed enough, generating a better one...");let a=V(e,t)+"\n\nIMPORTANT: The previous lesson plan was too vague and lacked detail. Please provide EXTREMELY SPECIFIC and COMPREHENSIVE content for each section, including exact dialogue, questions, and step-by-step instructions.",s=await A.B.generateResponse(a,"teacher",[],null);return $(s,e,t)}return r}catch(e){throw console.error("Error generating lesson plan:",e),Error("Failed to generate lesson plan. Please try again later.")}}function V(e,t){let a=e.gradeLevel?Q[e.gradeLevel]||e.gradeLevel:"unspecified grade level",s=e.duration?_[e.duration]||e.duration:"60 minutes";return'\nYou are an experienced curriculum developer and expert educator with years of classroom experience. Create a HIGHLY DETAILED and COMPREHENSIVE lesson plan for teaching "'.concat(e.topic,'" to ').concat(a," students. The lesson is planned for ").concat(s,".\n\n").concat(e.standards?"The lesson should align with the following standards: ".concat(e.standards):"","\n").concat(e.additionalRequirements?"Additional requirements or notes: ".concat(e.additionalRequirements):"","\n\nPlease provide the lesson plan in the following structured format. For each section, include EXTENSIVE details, examples, scripts, and specific instructions. Be thorough and precise - this lesson plan should be detailed enough that any substitute teacher could implement it successfully.\n\n1. Title: Create an engaging and creative title for this lesson that captures student interest.\n\n2. Learning Objectives: List 3-5 clear, measurable learning objectives using SMART criteria (Specific, Measurable, Achievable, Relevant, Time-bound). Start each with strong action verbs (e.g., analyze, evaluate, synthesize, create, apply, etc.).\n\n3. Standards Alignment: List specific standards this lesson addresses with their full text descriptions. ").concat(e.standards?"Include and elaborate on the standards provided above.":"If no standards were provided, suggest 3-5 appropriate ones for this topic and grade level with their full text.","\n\n4. Materials and Resources: Provide a comprehensive list of ALL materials, technology, and resources needed, including:\n   - Teacher materials and preparation requirements\n   - Student materials (per student or group)\n   - Technology resources with specific websites/apps\n   - Handouts, worksheets, or templates (describe their contents)\n   - Visual aids or manipulatives\n   - Any additional resources to have on hand\n\n5. Lesson Activities: Provide EXTREMELY DETAILED instructions for each part:\n   a. Introduction/Warm-up (10-15 minutes): \n      - Describe a specific, engaging hook or attention-grabber\n      - Include actual questions to ask students\n      - Explain how to activate prior knowledge\n      - Detail how to introduce the lesson objectives\n      - Include time allocations for each component\n\n   b. Main Activities (25-60 minutes): Describe 2-4 sequential, comprehensive learning activities that build understanding. For EACH activity include:\n      - Specific step-by-step teacher instructions and what to say\n      - Student grouping arrangements\n      - Detailed procedures with timing for each step\n      - Questions to pose during the activity\n      - Anticipated student responses/misconceptions and how to address them\n      - Transitions between activities\n      - Formative assessment checkpoints\n\n   c. Conclusion (10-15 minutes): \n      - Specific closure activities\n      - Summary techniques\n      - Exit ticket or final check for understanding\n      - Connections to future learning\n\n6. Assessment: Describe in detail:\n   - Formative assessment strategies throughout the lesson\n   - Summative assessment options (if applicable)\n   - Success criteria for students\n   - How data will be collected and used\n   - Rubrics or scoring guides (if applicable)\n\n7. Differentiation:\n   a. For struggling students: Specific supports and modifications including:\n      - Content modifications\n      - Process adaptations\n      - Product alternatives\n      - Learning environment adjustments\n      - Specific scaffolding techniques\n\n   b. For advanced students: Detailed extension activities including:\n      - Higher-order thinking tasks\n      - Independent study options\n      - Enrichment projects\n      - Acceleration opportunities\n      - Specific challenge questions\n\n8. Homework/Extension: Describe optional assignments including:\n   - Specific tasks and instructions\n   - Purpose and learning goals\n   - Materials needed\n   - Expected time commitment\n   - How it connects to class learning\n   - How it will be reviewed/assessed\n\nPlease ensure the plan is grade-appropriate, engaging, and pedagogically sound. Use best teaching practices for ").concat(t," education. Your response should be extremely detailed in ALL sections - a bare-bones or summarized lesson plan is NOT acceptable. This should be classroom-ready with comprehensive details.\n")}function $(e,t,a){try{let s={title:"Lesson Plan: ".concat(t.topic),gradeLevel:t.gradeLevel?Q[t.gradeLevel]||t.gradeLevel:"Unspecified Grade",subject:a,duration:t.duration?_[t.duration]||t.duration:"60 minutes",objectives:["Students will understand key concepts related to the topic."],standards:t.standards?[t.standards]:["Standards not specified."],materials:["Basic classroom materials"],activities:{introduction:"Begin with an engaging activity to introduce the topic.",mainActivities:["Guide students through the main concepts and activities."],conclusion:"Review key points and check for understanding."},assessment:"Monitor student understanding through observation and questioning.",differentiation:{remediation:"Provide additional support for struggling students.",enrichment:"Offer challenges for advanced students."},homework:"Optional: Assign practice activities to reinforce learning."},r=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return!e||e.trim().length<a?t:e},n=t=>{for(let a of[RegExp("".concat(t,":([\\s\\S]*?)(?=\\n\\s*\\d+\\.\\s|$)"),"i"),RegExp("".concat(t,"([\\s\\S]*?)(?=\\n\\s*\\d+\\.\\s|$)"),"i"),RegExp("\\d+\\.\\s*".concat(t,":([\\s\\S]*?)(?=\\n\\s*\\d+\\.\\s|$)"),"i")]){let t=e.match(a);if(t&&t[1]&&t[1].trim().length>0)return t[1].trim()}return""},i=s.title,l=n("Title");l&&(i=l);let o=s.objectives,c=n("Learning Objectives");c&&(o=c.split(/\n|•|\*|-|(?:\d+\.)/).map(e=>e.trim()).filter(e=>e.length>10),0===o.length&&(o=c.split(/\n\s*/).map(e=>e.replace(/^[-*•]?\s*/,"").trim()).filter(e=>e.length>10)));let d=s.standards,m=n("Standards Alignment");m&&(d=m.split(/\n|•|\*|-|(?:\d+\.)/).map(e=>e.trim()).filter(e=>e.length>5),0===d.length&&(d=m.split(/\n\s*/).map(e=>e.replace(/^[-*•]?\s*/,"").trim()).filter(e=>e.length>5)));let u=s.materials,x=n("Materials and Resources");x&&(u=x.split(/\n|•|\*|-|(?:\d+\.)/).map(e=>e.trim()).filter(e=>e.length>3),0===u.length&&(u=x.split(/\n\s*/).map(e=>e.replace(/^[-*•]?\s*/,"").trim()).filter(e=>e.length>3)));let h=s.activities.introduction,g=s.activities.mainActivities,p=s.activities.conclusion,y=n("Lesson Activities");if(y){let e=y.match(/(?:a\.|Introduction|Warm-up)(?:\s*\([^)]*\))?:([^]*?)(?=(?:b\.|Main Activities)|$)/i);e&&e[1]&&(h=r(e[1].trim(),h));let t=y.match(/(?:b\.|Main Activities)(?:\s*\([^)]*\))?:([^]*?)(?=(?:c\.|Conclusion)|$)/i);if(t&&t[1]){let e=t[1].trim(),a=[];for(let t of[/(?:\d+\.\s*)([^]*?)(?=\d+\.\s*|$)/g,/(?:[-•*]\s*)([^]*?)(?=[-•*]\s*|$)/g,/(?:\n\n)([^]*?)(?=\n\n|$)/g]){let s=Array.from(e.matchAll(t));if(s.length>0&&(a=s.map(e=>e[1].trim()).filter(e=>e.length>20)).length>0)break}0===a.length&&(a=e.split(/\n\s*\n/).map(e=>e.trim()).filter(e=>e.length>20)),0===a.length&&e.length>50&&(a=[e]),a.length>0&&(g=a)}let a=y.match(/(?:c\.|Conclusion)(?:\s*\([^)]*\))?:([^]*?)(?=\d+\.\s*|$)/i);a&&a[1]&&(p=r(a[1].trim(),p))}let f=s.assessment,b=n("Assessment");b&&(f=r(b,f));let v=s.differentiation.remediation,w=s.differentiation.enrichment,j=n("Differentiation");if(j){let e=j.match(/(?:a\.|For struggling students):([^]*?)(?=(?:b\.|For advanced students)|$)/i);e&&e[1]&&(v=r(e[1].trim(),v));let t=j.match(/(?:b\.|For advanced students):([^]*?)(?=\n\d+\.\s*|$)/i);t&&t[1]&&(w=r(t[1].trim(),w))}let k=s.homework,N=n("Homework/Extension");if(N&&(k=r(N,k)),1===g.length&&g[0].length<100){let t=e.slice(e.indexOf("Main Activities"),-1!==e.indexOf("Conclusion")?e.indexOf("Conclusion"):void 0);t&&t.length>100&&(g=t.split(/\n/).filter(e=>e.trim().length>20&&!e.includes("Main Activities")).map(e=>e.replace(/^[-*•]?\s*/,"").trim()))}return{title:i,gradeLevel:t.gradeLevel?Q[t.gradeLevel]||t.gradeLevel:"Unspecified Grade",subject:a,duration:t.duration?_[t.duration]||t.duration:"60 minutes",objectives:o.length>0?o:s.objectives,standards:d.length>0?d:s.standards,materials:u.length>0?u:s.materials,activities:{introduction:h,mainActivities:g.length>0?g:s.activities.mainActivities,conclusion:p},assessment:f,differentiation:{remediation:v,enrichment:w},homework:k}}catch(e){return console.error("Error parsing lesson plan response:",e),{title:"Lesson Plan: ".concat(t.topic),gradeLevel:t.gradeLevel?Q[t.gradeLevel]||t.gradeLevel:"Unspecified Grade",subject:a,duration:t.duration?_[t.duration]||t.duration:"60 minutes",objectives:["Students will understand key concepts related to the topic."],standards:t.standards?[t.standards]:["Standards not specified."],materials:["Basic classroom materials"],activities:{introduction:"Begin with an engaging activity to introduce the topic.",mainActivities:["Guide students through the main concepts and activities."],conclusion:"Review key points and check for understanding."},assessment:"Monitor student understanding through observation and questioning.",differentiation:{remediation:"Provide additional support for struggling students.",enrichment:"Offer challenges for advanced students."},homework:"Optional: Assign practice activities to reinforce learning."}}}var J=a(47359),K=a(26597),X=a(52699),Z=a.n(X);function ee(e){let{lessonPlan:t}=e,[a,n]=r.useState(!1),i=async()=>{n(!0);try{let e=document.createElement("div");e.style.width="800px",e.style.padding="40px",e.style.position="absolute",e.style.left="-9999px",e.innerHTML=l(t),document.body.appendChild(e);let a=new K.uE({orientation:"portrait",unit:"mm",format:"a4"}),s=await Z()(e,{scale:2,useCORS:!0,logging:!1}),r=s.toDataURL("image/png"),n=210*s.height/s.width,i=n,o=0;for(a.addImage(r,"PNG",0,o,210,n),i-=297;i>0;)o=i-n,a.addPage(),a.addImage(r,"PNG",0,o,210,n),i-=297;a.save("".concat(t.title.replace(/\s+/g,"_"),"_lesson_plan.pdf")),document.body.removeChild(e)}catch(e){console.error("Error generating PDF:",e)}finally{n(!1)}},l=e=>'\n      <style>\n        body { font-family: Arial, sans-serif; color: #333; line-height: 1.6; }\n        h1 { font-size: 24px; margin-bottom: 10px; color: #222; }\n        h2 { font-size: 18px; margin-top: 20px; margin-bottom: 10px; color: #444; border-bottom: 1px solid #ddd; padding-bottom: 5px; }\n        h3 { font-size: 16px; margin-top: 15px; margin-bottom: 5px; color: #555; }\n        ul { padding-left: 20px; margin-bottom: 15px; }\n        li { margin-bottom: 5px; }\n        .header { margin-bottom: 20px; }\n        .section { margin-bottom: 20px; }\n        .activity { background-color: #f9f9f9; padding: 10px; margin-bottom: 10px; border-radius: 4px; }\n        .metadata { color: #777; font-size: 14px; margin-bottom: 5px; }\n        .differentiation { display: flex; gap: 20px; }\n        .diff-section { flex: 1; background-color: #f9f9f9; padding: 10px; border-radius: 4px; }\n      </style>\n      <div class="header">\n        <h1>'.concat(e.title,'</h1>\n        <p class="metadata">').concat(e.subject," | ").concat(e.gradeLevel," | Duration: ").concat(e.duration,'</p>\n      </div>\n      \n      <div class="section">\n        <h2>Learning Objectives</h2>\n        <ul>\n          ').concat(e.objectives.map(e=>"<li>".concat(e,"</li>")).join(""),'\n        </ul>\n      </div>\n      \n      <div class="section">\n        <h2>Standards Alignment</h2>\n        <ul>\n          ').concat(e.standards.map(e=>"<li>".concat(e,"</li>")).join(""),'\n        </ul>\n      </div>\n      \n      <div class="section">\n        <h2>Materials and Resources</h2>\n        <ul>\n          ').concat(e.materials.map(e=>"<li>".concat(e,"</li>")).join(""),'\n        </ul>\n      </div>\n      \n      <div class="section">\n        <h2>Lesson Activities</h2>\n        \n        <h3>Introduction / Warm-up</h3>\n        <div class="activity">\n          ').concat(e.activities.introduction,"\n        </div>\n        \n        <h3>Main Activities</h3>\n        ").concat(e.activities.mainActivities.map((e,t)=>'<div class="activity">\n            <strong>'.concat(t+1,".</strong> ").concat(e,"\n          </div>")).join(""),'\n        \n        <h3>Conclusion / Wrap-up</h3>\n        <div class="activity">\n          ').concat(e.activities.conclusion,'\n        </div>\n      </div>\n      \n      <div class="section">\n        <h2>Assessment</h2>\n        <div class="activity">\n          ').concat(e.assessment,'\n        </div>\n      </div>\n      \n      <div class="section">\n        <h2>Differentiation</h2>\n        <div class="differentiation">\n          <div class="diff-section">\n            <h3>For Struggling Students</h3>\n            ').concat(e.differentiation.remediation,'\n          </div>\n          <div class="diff-section">\n            <h3>For Advanced Students</h3>\n            ').concat(e.differentiation.enrichment,"\n          </div>\n        </div>\n      </div>\n      \n      ").concat(e.homework?'\n        <div class="section">\n          <h2>Homework / Extension</h2>\n          <div class="activity">\n            '.concat(e.homework,"\n          </div>\n        </div>\n      "):"","\n    ");return(0,s.jsx)("button",{onClick:i,disabled:a,className:"flex items-center px-3 py-1.5 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors ".concat(a?"opacity-70 cursor-not-allowed":""),children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J.A,{className:"h-4 w-4 mr-1"}),"Download PDF"]})})}function et(){let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(null),[i,l]=(0,r.useState)({topic:"",gradeLevel:"",duration:"60",standards:"",additionalRequirements:""}),o=async e=>{e.preventDefault(),t(!0);try{let e=await Y(i);n(e)}catch(e){console.error("Error generating lesson plan:",e)}finally{t(!1)}};return(0,s.jsxs)("div",{className:"w-full max-w-6xl mx-auto bg-white dark:bg-zinc-900 rounded-lg shadow-sm p-3 sm:p-6",children:[(0,s.jsxs)("div",{className:"mb-4 sm:mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[(0,s.jsxs)("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2 text-primary flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:"Lesson Plan Generator"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Create comprehensive, standards-aligned lesson plans in minutes"})]}),a?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 sm:mb-6",children:[(0,s.jsxs)("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 dark:text-white flex items-center",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 mr-2 text-primary flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:a.title})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(ee,{lessonPlan:a}),(0,s.jsxs)("button",{onClick:()=>n(null),className:"flex items-center justify-center px-3 py-1.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(D.A,{className:"h-4 w-4 mr-1"}),(0,s.jsx)("span",{className:"whitespace-nowrap",children:"Create New"})]})]})]}),(0,s.jsx)(U,{lessonPlan:a})]}):(0,s.jsx)(O,{formData:i,handleInputChange:e=>{let{name:t,value:a}=e.target;l(e=>({...e,[t]:a}))},handleSubmit:o,isGenerating:e})]})}var ea=a(78046),es=a(6285),er=a(62701),en=a(18956),ei=a(10184),el=a(31151);function eo(e){let{documents:t,userRole:a,onView:r,onDelete:n}=e,i=e=>{let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)},l=e=>{window.open("/api/documents/".concat(e.id),"_blank"),r(e)};return(0,s.jsx)("div",{className:"space-y-2",children:0===t.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,s.jsx)(x.A,{className:"h-12 w-12 text-gray-400 dark:text-gray-600 mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"teacher"===a?"No documents yet. Upload your first document!":"No documents available yet."})]}):t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-zinc-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(ec,{type:e.type})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.title}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.type.toUpperCase()," • ",e.size," • ",i(e.uploadedAt)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.A,{variant:"ghost",size:"sm",onClick:()=>l(e),icon:(0,s.jsx)(ei.A,{className:"h-4 w-4"}),children:"View"}),"teacher"===a&&n&&(0,s.jsx)(c.A,{variant:"ghost",size:"sm",onClick:()=>n(e),icon:(0,s.jsx)(el.A,{className:"h-4 w-4"}),className:"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]},e.id))})}function ec(e){let{type:t}=e;x.A;let a="h-8 w-8 ";switch(t.toLowerCase()){case"pdf":a+="text-red-400 dark:text-red-500";break;case"doc":case"docx":a+="text-blue-400 dark:text-blue-500";break;case"jpg":case"jpeg":case"png":a+="text-green-400 dark:text-green-500";break;default:a+="text-gray-400 dark:text-gray-500"}return(0,s.jsx)(x.A,{className:a})}var ed=a(46710);function em(e){let{onUpload:t,onClose:a}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),x=(0,r.useCallback)(e=>{e.length>0&&(u(e[0]),o(null))},[]),{getRootProps:h,getInputProps:g,isDragActive:p}=(0,ed.VB)({onDrop:x,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"],"text/markdown":[".md"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"]},maxFiles:1}),y=async()=>{if(m){i(!0),o(null);try{await t(m),a()}catch(e){o(e instanceof Error?e.message:"Failed to upload file")}finally{i(!1)}}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{...h(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors\n          ".concat(p?"border-primary bg-primary/5":"border-gray-300 dark:border-gray-600 hover:border-primary dark:hover:border-primary"),children:[(0,s.jsx)("input",{...g()}),(0,s.jsx)(es.A,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:p?"Drop the file here":"Drag and drop a file, or click to select"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-500",children:"PDF, DOC, DOCX, TXT, MD, JPG, PNG (max 10MB)"})]}),m&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-zinc-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.name}),(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(m.size/1024/1024).toFixed(2)," MB"]})]}),(0,s.jsx)("button",{onClick:()=>{u(null),o(null)},className:"p-1 rounded-full text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})]}),l&&(0,s.jsx)("div",{className:"text-sm text-red-500 dark:text-red-400",children:l}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(c.A,{variant:"outline",onClick:a,disabled:n,children:"Cancel"}),(0,s.jsx)(c.A,{variant:"primary",onClick:y,disabled:!m||n,loading:n,children:"Upload"})]})]})}function eu(e){let{isOpen:t,onClose:a,userRole:n}=e,[i,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),{documents:m,isLoading:u,error:x,uploadDocument:h,deleteDocument:g,searchDocuments:p,refreshDocuments:y}=(0,en.t)();(0,r.useEffect)(()=>{t&&(y(),d(""))},[t,y]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{t&&(o.trim()?p(o):y())},300);return()=>clearTimeout(e)},[o,p,y,t]);let f=async e=>{try{await h(e),l(!1)}catch(e){console.error("Upload failed:",e)}},b=async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.title,'"?')))try{await g(e.id)}catch(e){console.error("Delete failed:",e)}};return(0,s.jsxs)(q,{isOpen:t,onClose:a,title:"Document Library",size:"lg",children:[(0,s.jsxs)("div",{className:"flex flex-col h-[70vh]",children:[(0,s.jsxs)("div",{className:"p-4 flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(er.A,{type:"text",placeholder:"Search documents...",value:o,onChange:e=>d(e.target.value),className:"pl-10 w-full"}),(0,s.jsx)(ea.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),"teacher"===n&&(0,s.jsx)("div",{children:(0,s.jsx)(c.A,{onClick:()=>l(!0),icon:(0,s.jsx)(es.A,{className:"h-5 w-5"}),children:"Upload Document"})})]}),x&&(0,s.jsx)("div",{className:"px-4 text-sm text-red-500 dark:text-red-400",children:x}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pb-4",children:u?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,s.jsx)(eo,{documents:m,userRole:n,onView:e=>{console.log("Viewing document:",e.id)},onDelete:"teacher"===n?b:void 0})})]}),(0,s.jsx)(q,{isOpen:i,onClose:()=>l(!1),title:"Upload Document",size:"md",children:(0,s.jsx)(em,{onUpload:f,onClose:()=>l(!1)})})]})}function ex(){let e=(0,b.useRouter)(),{user:t,logout:a,isGuest:n,continueAsGuest:g}=(0,o.A)(),[p,y]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),[T,L]=(0,r.useState)(!1),[z,F]=(0,r.useState)(!1),E=(0,b.usePathname)(),I="/"===E,G=null==E?void 0:E.includes("/teaching-assistant"),D=null==E?void 0:E.includes("/tutor"),M=G?"teacher":D?"student":(null==t?void 0:t.role)||"student",O=()=>{y(!0),F(!1)},H=async()=>{k(!0);try{await a(),e.push("/ai/")}catch(e){console.error("Failed to logout:",e)}finally{k(!1),y(!1)}},W=()=>{"student"===M&&(A(!0),F(!1))},B=()=>{L(!0),F(!1)},U=()=>{(0,v.CJ)("student")||(0,v.W8)("student"),(0,v.fm)("student"),g("student"),e.push("/tutor"),F(!1)},Q=()=>{(0,v.CJ)("teacher")||(0,v.W8)("teacher"),(0,v.fm)("teacher"),g("teacher"),e.push("/teaching-assistant"),F(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-40 bg-white/80 backdrop-blur-sm dark:bg-zinc-900/80 border-b border-gray-200 dark:border-gray-800",children:[(0,s.jsxs)("nav",{className:"mx-auto flex items-center justify-between px-4 sm:px-6 py-3","aria-label":"Global",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(i(),{href:"/",className:"-m-1.5 p-1.5 flex items-center",children:(0,s.jsx)(l.default,{src:"/ai/baun_logo.png",alt:"Baun Robotics Logo",width:40,height:40})})}),(0,s.jsx)("div",{className:"flex md:hidden",children:(0,s.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none",onClick:()=>{F(!z)},children:[(0,s.jsx)("span",{className:"sr-only",children:z?"Close menu":"Open menu"}),z?(0,s.jsx)(d.A,{className:"block h-6 w-6","aria-hidden":"true"}):(0,s.jsx)(m.A,{className:"block h-6 w-6","aria-hidden":"true"})]})}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:I?(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(c.A,{variant:"outline",size:"sm",onClick:U,children:"Student"}),(0,s.jsx)(c.A,{variant:"primary",size:"sm",onClick:Q,children:"Teacher"})]}):t?(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(R,{userRole:M,onOpenLessonPlanner:()=>S(!0),onOpenQuiz:W,onOpenLibrary:B}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.name}),t.role&&(0,s.jsx)("span",{className:"text-xs ".concat("student"===t.role?"text-primary":"text-secondary"),children:n?"Guest Mode":"student"===t.role?"Student Mode":"Teacher Mode"})]}),n?(0,s.jsx)(j,{variant:"primary",size:"sm"}):(0,s.jsx)(c.A,{variant:"ghost",size:"sm",onClick:O,children:"Logout"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(c.A,{variant:"outline",size:"sm",onClick:U,children:"Student"}),(0,s.jsx)(c.A,{variant:"primary",size:"sm",onClick:Q,children:"Teacher"})]})})]}),z&&(0,s.jsx)("div",{className:"md:hidden bg-white dark:bg-zinc-900 border-b border-gray-200 dark:border-gray-800 shadow-lg animate-fade-in",children:(0,s.jsx)("div",{className:"px-4 py-4 space-y-4",children:I?(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)(c.A,{variant:"outline",size:"sm",className:"w-full justify-center",onClick:U,children:"Student"}),(0,s.jsx)(c.A,{variant:"primary",size:"sm",className:"w-full justify-center",onClick:Q,children:"Teacher"})]}):t&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-3 px-2 py-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[(0,s.jsx)(u.A,{className:"h-8 w-8 text-gray-600 dark:text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t.name}),t.role&&(0,s.jsx)("div",{className:"text-xs ".concat("student"===t.role?"text-primary":"text-secondary"),children:n?"Guest Mode":"student"===t.role?"Student Mode":"Teacher Mode"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-2",children:"Tools"}),(0,s.jsxs)("button",{onClick:()=>{B(),F(!1)},className:"flex items-center w-full px-2 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Document Library"]}),"teacher"===M&&(0,s.jsxs)("button",{onClick:()=>{S(!0),F(!1)},className:"flex items-center w-full px-2 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Lesson Plan Generator"]}),"student"===M&&(0,s.jsxs)("button",{onClick:()=>{W(),F(!1)},className:"flex items-center w-full px-2 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Practice Quizzes"]})]}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:n?(0,s.jsx)("div",{className:"px-2",children:(0,s.jsx)(j,{variant:"primary",size:"sm",className:"w-full justify-center"})}):(0,s.jsxs)("button",{onClick:O,className:"flex items-center w-full px-2 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-3",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),"Logout"]})})]})})})]}),(0,s.jsx)(f,{isOpen:p,onClose:()=>y(!1),onConfirm:H,isLoading:w}),"student"===M&&(0,s.jsx)(P,{isOpen:N,onClose:()=>A(!1)}),"teacher"===M&&(0,s.jsx)(q,{isOpen:C,onClose:()=>S(!1),title:"Lesson Plan Generator",size:"lg",children:(0,s.jsx)(et,{})}),(0,s.jsx)(eu,{isOpen:T,onClose:()=>L(!1),userRole:M})]})}var eh=a(92612),eg=a(14548);function ep(){let[e,t]=(0,r.useState)(!0),[a,n]=(0,r.useState)(!1),i=(0,b.useRouter)(),l=(0,b.usePathname)(),o=(null==l?void 0:l.includes("/login"))||(null==l?void 0:l.includes("/signup"))||(null==l?void 0:l.includes("/reset-password"))||(null==l?void 0:l.includes("/forgot-password"));return((0,r.useEffect)(()=>{let e=navigator.onLine;t(e),!e&&o&&n(!0);let a=()=>{t(!0),o?n(!1):(n(!0),setTimeout(()=>n(!1),2e3))},s=()=>{t(!1),o?n(!0):(n(!0),setTimeout(()=>n(!1),3e3))};return window.addEventListener("online",a),window.addEventListener("offline",s),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}},[o]),a)?(0,s.jsxs)("div",{className:"fixed bottom-2 sm:bottom-4 left-2 right-2 sm:left-auto sm:right-4 px-3 py-1.5 rounded-lg sm:rounded-full shadow-md flex items-center gap-1.5 z-50 text-xs animate-fade-in max-w-full sm:max-w-xs justify-between\n      ".concat(e?"bg-green-100 text-green-800 dark:bg-green-900/70 dark:text-green-100":"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-100"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e?(0,s.jsx)(eh.A,{className:"h-3.5 w-3.5"}):(0,s.jsx)(eg.A,{className:"h-3.5 w-3.5"}),(0,s.jsx)("span",{className:"font-medium truncate",children:e?"Online":o?"Authentication needs connection":"Offline mode"})]}),(0,s.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[!e&&o&&(0,s.jsx)("button",{onClick:()=>i.push("/"),className:"mr-2 text-red-600 dark:text-red-400 text-xs underline",children:"Home"}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"".concat(e?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),"aria-label":"Close notification",children:(0,s.jsx)(d.A,{className:"h-3.5 w-3.5"})})]})]}):null}function ey(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)(ex,{}),(0,s.jsx)("main",{className:"flex-grow pt-16 sm:pt-16 px-2 sm:px-0",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto w-full",children:t})}),(0,s.jsx)(ep,{})]})}}}]);