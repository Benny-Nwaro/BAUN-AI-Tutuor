(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{18593:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(12115);let s=a.forwardRef(function(e,r){let{title:t,titleId:s,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},i),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},35517:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(95155),s=t(81376),i=t(12115),l=t(35695),n=t(6874),d=t.n(n),c=t(23475),o=t(62701),u=t(42331),m=t(18593),h=t(94038);function x(){let e=(0,l.useRouter)(),{login:r,continueAsGuest:t,isAuthenticated:s,isEmailConfirmed:n,isGuest:x}=(0,c.A)(),[g,v]=(0,i.useState)(""),[b,p]=(0,i.useState)(""),[f,j]=(0,i.useState)(""),[y,w]=(0,i.useState)(""),[k,N]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s&&!x&&n&&e.push("/dashboard")},[s,x,n,e]);let A=()=>{f&&j(""),y&&w("")},E=async t=>{if(t.preventDefault(),A(),!g.trim()||!g.includes("@")){j("Valid email is required");return}if(!b){j("Password is required");return}N(!0);try{let t=await r(g,b);if(t.success)w("Login successful! Redirecting to dashboard in 1 second..."),console.log("Login successful, will redirect to dashboard"),setTimeout(()=>{console.log("Redirecting to dashboard after login"),e.push("/dashboard")},1e3);else{var a;(null===(a=t.error)||void 0===a?void 0:a.toLowerCase().includes("confirm your email"))?w(t.error):j(t.error||"Unable to sign in. Please try again.")}}catch(e){j(e.message||"An unexpected error occurred. Please try again.")}finally{N(!1)}};return!s||x||k?(0,a.jsxs)("div",{className:"w-full max-w-md space-y-8 p-8 bg-white dark:bg-zinc-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:E,children:[f&&(0,a.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md",children:f}),y&&(0,a.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 text-sm rounded-md",children:y}),(0,a.jsx)(o.A,{id:"email",label:"Email address",type:"email",placeholder:"you@example.com",value:g,onChange:e=>{v(e.target.value),A()},required:!0,icon:(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400"}),enableSpeech:!0}),(0,a.jsx)(o.A,{id:"password",label:"Password",type:"password",placeholder:"••••••••",value:b,onChange:e=>{p(e.target.value),A()},required:!0,icon:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)(d(),{href:"/signup",className:"text-primary hover:text-primary-dark",children:"Don't have an account? Sign up"})}),(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)(d(),{href:"/forgot-password",className:"text-primary hover:text-primary-dark",children:"Forgot password?"})})]}),(0,a.jsx)(u.A,{type:"submit",fullWidth:!0,isLoading:k,disabled:k,children:"Sign in"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white dark:bg-zinc-800 text-gray-500 dark:text-gray-400",children:"Or continue as guest"})})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,a.jsx)(u.A,{variant:"outline",onClick:()=>{t("student"),e.push("/tutor")},children:"Student"}),(0,a.jsx)(u.A,{variant:"outline",onClick:()=>{t("teacher"),e.push("/teaching-assistant")},children:"Teacher"})]})]})]}):null}function g(){return(0,a.jsx)(s.A,{children:(0,a.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center px-4 py-12",children:(0,a.jsx)(x,{})})})}},38573:(e,r,t)=>{Promise.resolve().then(t.bind(t,35517))},94038:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var a=t(12115);let s=a.forwardRef(function(e,r){let{title:t,titleId:s,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},i),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))})}},e=>{var r=r=>e(e.s=r);e.O(0,[428,392,316,930,848,712,376,441,684,358],()=>r(38573)),_N_E=e.O()}]);