(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{18593:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},36298:(e,t,a)=>{Promise.resolve().then(a.bind(a,87860))},87860:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(95155),s=a(81376),l=a(12115),n=a(35695),i=a(6874),d=a.n(i),o=a(23475),c=a(62701),u=a(42331);let m=l.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?l.createElement("title",{id:r},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});var h=a(18593),g=a(94038);function x(){var e;let t=(0,n.useRouter)(),{signup:a,user:s,isAuthenticated:i,isEmailConfirmed:x,isGuest:p}=(0,o.A)(),[v,f]=(0,l.useState)(""),[y,w]=(0,l.useState)(""),[b,j]=(0,l.useState)(""),[k,N]=(0,l.useState)(""),[A,C]=(0,l.useState)("student"),[E,S]=(0,l.useState)(""),[P,L]=(0,l.useState)(""),[q,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(null==s?void 0:s.role)&&C(s.role)},[s]),(0,l.useEffect)(()=>{i&&!p&&x&&t.push("/dashboard")},[i,p,x,t]);let O=()=>{E&&S(""),P&&L("")},R=async e=>{if(e.preventDefault(),O(),!v.trim()){S("Name is required");return}if(!y.trim()||!y.includes("@")){S("Valid email is required");return}if(!b){S("Password is required");return}if(b.length<6){S("Password must be at least 6 characters");return}if(b!==k){S("Passwords do not match");return}_(!0);try{let e=await a(v,y,b,A);e.success?(L("Account created successfully! You will be redirected to the login page in 2 seconds."),console.log("Signup successful, will redirect to login"),f(""),w(""),j(""),N(""),setTimeout(()=>{console.log("Redirecting to login after signup"),t.push("/login")},2e3)):S(e.error||"Failed to create an account. Please try again.")}catch(e){S(e.message||"An unexpected error occurred. Please try again.")}finally{_(!1)}},W=(null==s?void 0:null===(e=s.id)||void 0===e?void 0:e.startsWith("guest-"))||!1;return!i||p||q?(0,r.jsxs)("div",{className:"w-full max-w-md space-y-8 p-8 bg-white dark:bg-zinc-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:W?"Create Your Account":"Create an account"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:W?"Save your progress and continue your learning journey":"Join Baun AI to enhance your learning or teaching"})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:R,children:[E&&(0,r.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md",children:E}),P&&(0,r.jsx)("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-sm rounded-md",children:P}),(0,r.jsx)(c.A,{id:"name",label:"Full Name",type:"text",placeholder:"John Doe",value:v,onChange:e=>{f(e.target.value),O()},required:!0,icon:(0,r.jsx)(m,{className:"h-5 w-5 text-gray-400"}),enableSpeech:!0}),(0,r.jsx)(c.A,{id:"email",label:"Email address",type:"email",placeholder:"you@example.com",value:y,onChange:e=>{w(e.target.value),O()},required:!0,icon:(0,r.jsx)(h.A,{className:"h-5 w-5 text-gray-400"}),enableSpeech:!0}),(0,r.jsx)(c.A,{id:"password",label:"Password",type:"password",placeholder:"••••••••",value:b,onChange:e=>{j(e.target.value),O(),k&&e.target.value!==k&&S("Passwords do not match")},required:!0,icon:(0,r.jsx)(g.A,{className:"h-5 w-5 text-gray-400"}),helperText:"Password must be at least 6 characters long"}),(0,r.jsx)(c.A,{id:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"••••••••",value:k,onChange:e=>{N(e.target.value),O(),b!==e.target.value&&S("Passwords do not match")},required:!0,icon:(0,r.jsx)(g.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"I am a:"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"role",value:"student",checked:"student"===A,onChange:()=>C("student"),className:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"}),(0,r.jsx)("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Student"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"role",value:"teacher",checked:"teacher"===A,onChange:()=>C("teacher"),className:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"}),(0,r.jsx)("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Teacher"})]})]})]}),(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)(d(),{href:"/login",className:"text-primary hover:text-primary-dark",children:"Already have an account? Sign in"})}),(0,r.jsx)(u.A,{type:"submit",fullWidth:!0,isLoading:q,disabled:q||!!P,children:"Create Account"})]})]}):null}function p(){return(0,r.jsx)(s.A,{children:(0,r.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center px-4 py-12",children:(0,r.jsx)(x,{})})})}},94038:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(12115);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[428,392,316,930,848,712,376,441,684,358],()=>t(36298)),_N_E=e.O()}]);